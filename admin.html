<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folievoordelen - Admin Panel PRO</title>
    <script src="calculator_products.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }
        h1 { color: #333; margin-bottom: 10px; font-size: 32px; }
        h2 { color: #555; margin-top: 30px; margin-bottom: 20px; font-size: 24px; 
             border-bottom: 3px solid #667eea; padding-bottom: 10px; }
        h3 { color: #667eea; margin-bottom: 15px; font-size: 18px; }
        .subtitle { color: #666; margin-bottom: 30px; }
        
        .tabs { display: flex; gap: 10px; margin-bottom: 30px; border-bottom: 2px solid #e9ecef; }
        .tab {
            padding: 12px 24px; background: transparent; border: none;
            cursor: pointer; font-size: 16px; font-weight: 600; color: #666;
            border-bottom: 3px solid transparent; transition: all 0.3s;
        }
        .tab.active { color: #667eea; border-bottom-color: #667eea; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .brand-section { margin-bottom: 40px; padding: 30px; background: #f8f9fa; border-radius: 15px; }
        .brand-header { background: linear-gradient(135deg, #d4af37 0%, #c5a028 100%);
                        color: #1a1a1a; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .brand-header h2 { border: none; color: #1a1a1a; margin: 0; }
        
        .category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .category-card {
            background: white; padding: 20px; border-radius: 12px;
            border-left: 5px solid #667eea; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .category-card.wood { border-left-color: #8B4513; }
        .category-card.solid { border-left-color: #4CAF50; }
        .category-card.stone { border-left-color: #757575; }
        .category-card.metal { border-left-color: #9E9E9E; }
        .category-card.textile { border-left-color: #E91E63; }
        .category-card.texture { border-left-color: #FF9800; }
        .category-card.concrete { border-left-color: #607D8B; }
        .category-card.glitter { border-left-color: #FF4081; }
        
        .category-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .category-icon { font-size: 24px; }
        .category-count { background: #e3f2fd; padding: 5px 15px; border-radius: 20px;
                         font-size: 14px; font-weight: 600; color: #1565c0; }
        
        label { display: block; color: #555; font-weight: 600; margin-bottom: 8px; margin-top: 15px; font-size: 14px; }
        input[type="number"] {
            width: 100%; padding: 12px; border: 2px solid #dee2e6;
            border-radius: 8px; font-size: 16px; font-weight: 600;
        }
        input:focus { outline: none; border-color: #667eea; }
        
        .price-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .price-input { position: relative; }
        .price-input input { padding-left: 30px; }
        .price-input::before { content: '‚Ç¨'; position: absolute; left: 12px; top: 42px;
                               font-weight: bold; color: #666; font-size: 16px; }
        
        .save-button {
            background: linear-gradient(135deg, #28a745 0%, #20893b 100%);
            color: white; border: none; padding: 15px 30px;
            border-radius: 10px; font-size: 16px; font-weight: 600;
            cursor: pointer; margin-top: 20px; width: 100%;
        }
        .save-button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(40,167,69,0.3); }
        
        .export-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; border: none; padding: 15px 30px;
            border-radius: 10px; font-size: 16px; font-weight: 600;
            cursor: pointer; margin-top: 10px; width: 100%;
        }
        
        .info-box {
            background: #e3f2fd; padding: 15px; border-radius: 8px;
            margin: 20px 0; border-left: 4px solid #2196f3;
        }
        .info-box strong { color: #1565c0; }
        
        .warning-box {
            background: #fff3cd; padding: 15px; border-radius: 8px;
            margin: 20px 0; border-left: 4px solid #ff9800;
        }
        .warning-box strong { color: #f57c00; }
        
        .success-box {
            background: #d4edda; padding: 15px; border-radius: 8px;
            margin: 20px 0; border-left: 4px solid #28a745; display: none;
        }
        .success-box.show { display: block; }
        .success-box strong { color: #155724; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 20px; border-radius: 10px; text-align: center;
        }
        .stat-number { font-size: 32px; font-weight: bold; margin: 10px 0; }
        .stat-label { font-size: 14px; opacity: 0.9; }
    
        .color-list {
            max-height: 600px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        .color-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }
        .color-item:hover {
            background: #f8f9fa;
        }
        .color-toggle {
            margin-right: 15px;
        }
        .color-toggle input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        .color-preview {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            margin-right: 15px;
            object-fit: cover;
            border: 2px solid #dee2e6;
        }
        .color-info {
            flex: 1;
        }
        .color-code {
            font-weight: bold;
            font-size: 16px;
            color: #333;
        }
        .color-name {
            color: #666;
            font-size: 14px;
            margin-top: 4px;
        }
        .color-category {
            display: inline-block;
            background: #e3f2fd;
            color: #1565c0;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            margin-top: 4px;
        }
        .color-inkoop {
            display: inline-block;
            background: #fff3e0;
            color: #e65100;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            margin-top: 4px;
            margin-left: 4px;
            font-weight: bold;
        }
        .color-disabled {
            opacity: 0.5;
        }
        @media (max-width: 768px) {
            #bulk-tab > div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Folievoordelen - Admin Panel PRO</h1>
        <p class="subtitle">Beheer individuele folieprijzen voor Bodaq en Coverstyl</p>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('colors')">üé® Kleuren & Prijzen</button>
            <button class="tab" onclick="switchTab('aanvragen')">üìã Aanvragen</button>
            <button class="tab" onclick="switchTab('bulk')">üìà Bulk Prijzen</button>
            <button class="tab" onclick="switchTab('settings')">‚öôÔ∏è Instellingen</button>
            <button class="tab" onclick="switchTab('stats')">üìä Statistieken</button>
        </div>

        <!-- Colors & Prijzen Tab (standaard) -->
        <div id="colors-tab" class="tab-content active">
            <h2>üé® Kleuren & Prijzen Beheren</h2>
            
            <div class="info-box">
                <strong>üí° Tip:</strong> Elke folie heeft zijn eigen prijs. Pas prijzen aan per kleur, of gebruik de Bulk Prijzen tab om alles in √©√©n keer te verhogen. Zet kleuren uit die je tijdelijk niet op voorraad hebt.
            </div>

            <div class="tabs" style="margin-top: 20px; border-bottom: none;">
                <button class="tab active" onclick="switchColorBrand('bodaq')" id="color-tab-bodaq">üü° Bodaq</button>
                <button class="tab" onclick="switchColorBrand('coverstyl')" id="color-tab-coverstyl">üîµ Coverstyl</button>
                <button class="tab" onclick="switchColorBrand('soif')" id="color-tab-soif">üü† SOIF</button>
            </div>

            <div style="margin: 20px 0;">
                <input type="text" id="colorSearch" placeholder="üîç Zoek op code of naam..." 
                       onkeyup="filterColorList()" 
                       style="width: 100%; padding: 12px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 16px;">
            </div>

            <div id="bodaqColorList" class="color-list"></div>
            <div id="coverstylColorList" class="color-list" style="display: none;"></div>
            <div id="soifColorList" class="color-list" style="display: none;"></div>

            <button class="save-button" onclick="saveColorSettings()">üíæ Kleuren Instellingen Opslaan</button>
        </div>

        <!-- Aanvragen Tab -->
        <div id="aanvragen-tab" class="tab-content">
            <h2>üìã Aanvragen</h2>
            
            <div class="info-box">
                <strong>üí° Info:</strong> Hier zie je alle aanvragen die klanten via de calculator hebben verstuurd. 
                Inclusief interne details zoals benodigde foliemeters. Je ontvangt een melding via WhatsApp of email.
            </div>

            <div style="margin-bottom: 20px; display: flex; gap: 10px; align-items: center;">
                <input type="text" id="aanvraagSearch" placeholder="üîç Zoek op naam, nummer of plaats..." 
                       onkeyup="filterAanvragen()"
                       style="flex: 1; padding: 12px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 16px;">
                <button onclick="clearAanvragen()" style="padding: 12px 20px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; white-space: nowrap;">üóëÔ∏è Alles wissen</button>
            </div>

            <div id="aanvragenList"></div>
        </div>

        <!-- Bulk Pricing Tab -->
        <div id="bulk-tab" class="tab-content">
            <h2>üìà Bulk Prijsaanpassing</h2>
            
            <div class="info-box">
                <strong>üí° Handig:</strong> Verhoog (of verlaag) alle individuele folieprijzen in √©√©n keer met een percentage. 
                Bodaq en Coverstyl worden apart berekend.
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; max-width: 900px;">
                <!-- Bodaq Bulk -->
                <div class="category-card" style="border-left-color: #d4af37;">
                    <h3 style="color: #b8960c;">üü° Bodaq Prijzen Aanpassen</h3>
                    
                    <label>Percentage aanpassing</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="number" id="bulk-bodaq-pct" value="5" step="0.5" min="-50" max="100" 
                               style="flex: 1; font-size: 20px; text-align: center; padding: 15px;">
                        <span style="font-size: 24px; font-weight: bold; color: #666;">%</span>
                    </div>
                    <small style="color: #666; display: block; margin-top: 8px;">Positief = prijsverhoging, Negatief = prijsverlaging</small>

                    <div style="display: flex; gap: 8px; margin-top: 15px;">
                        <button onclick="setBulkPct('bodaq', -5)" style="flex:1; padding: 8px; border: 2px solid #dc3545; background: white; color: #dc3545; border-radius: 8px; cursor: pointer; font-weight: 600;">-5%</button>
                        <button onclick="setBulkPct('bodaq', -2)" style="flex:1; padding: 8px; border: 2px solid #dc3545; background: white; color: #dc3545; border-radius: 8px; cursor: pointer; font-weight: 600;">-2%</button>
                        <button onclick="setBulkPct('bodaq', 2)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+2%</button>
                        <button onclick="setBulkPct('bodaq', 5)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+5%</button>
                        <button onclick="setBulkPct('bodaq', 10)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+10%</button>
                    </div>

                    <div id="bulk-bodaq-preview" style="margin-top: 20px;"></div>

                    <button onclick="previewBulk('bodaq')" class="export-button" style="margin-top: 15px; background: linear-gradient(135deg, #ffc107 0%, #d4af37 100%); color: #1a1a1a;">
                        üëÅÔ∏è Preview Berekening
                    </button>
                    <button onclick="applyBulk('bodaq')" class="save-button" style="margin-top: 10px;">
                        ‚úÖ Bodaq Prijzen Toepassen
                    </button>
                </div>

                <!-- Coverstyl Bulk -->
                <div class="category-card" style="border-left-color: #1565c0;">
                    <h3 style="color: #1565c0;">üîµ Coverstyl Prijzen Aanpassen</h3>
                    
                    <label>Percentage aanpassing</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="number" id="bulk-coverstyl-pct" value="5" step="0.5" min="-50" max="100" 
                               style="flex: 1; font-size: 20px; text-align: center; padding: 15px;">
                        <span style="font-size: 24px; font-weight: bold; color: #666;">%</span>
                    </div>
                    <small style="color: #666; display: block; margin-top: 8px;">Positief = prijsverhoging, Negatief = prijsverlaging</small>

                    <div style="display: flex; gap: 8px; margin-top: 15px;">
                        <button onclick="setBulkPct('coverstyl', -5)" style="flex:1; padding: 8px; border: 2px solid #dc3545; background: white; color: #dc3545; border-radius: 8px; cursor: pointer; font-weight: 600;">-5%</button>
                        <button onclick="setBulkPct('coverstyl', -2)" style="flex:1; padding: 8px; border: 2px solid #dc3545; background: white; color: #dc3545; border-radius: 8px; cursor: pointer; font-weight: 600;">-2%</button>
                        <button onclick="setBulkPct('coverstyl', 2)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+2%</button>
                        <button onclick="setBulkPct('coverstyl', 5)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+5%</button>
                        <button onclick="setBulkPct('coverstyl', 10)" style="flex:1; padding: 8px; border: 2px solid #28a745; background: white; color: #28a745; border-radius: 8px; cursor: pointer; font-weight: 600;">+10%</button>
                    </div>

                    <div id="bulk-coverstyl-preview" style="margin-top: 20px;"></div>

                    <button onclick="previewBulk('coverstyl')" class="export-button" style="margin-top: 15px;">
                        üëÅÔ∏è Preview Berekening
                    </button>
                    <button onclick="applyBulk('coverstyl')" class="save-button" style="margin-top: 10px;">
                        ‚úÖ Coverstyl Prijzen Toepassen
                    </button>
                </div>
            </div>

            <div class="warning-box" style="margin-top: 30px;">
                <strong>‚ö†Ô∏è Let op:</strong> De prijsaanpassing wordt berekend over de <strong>huidige individuele folieprijzen</strong>. 
                Als je twee keer +10% toepast, worden de prijzen in totaal 21% hoger (niet 20%).
                Gebruik de Preview om te controleren voordat je toepast.
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-tab" class="tab-content">
            <h2>‚öôÔ∏è Algemene Instellingen</h2>
            
            <div style="max-width: 600px;">
                <div class="category-card">
                    <h3>üìê Basis Prijzen</h3>
                    <div class="price-row">
                        <div class="price-input">
                            <label>Kastdeurtje (front)</label>
                            <input type="number" id="prijs-front" value="25" step="0.5">
                        </div>
                        <div class="price-input">
                            <label>Lade</label>
                            <input type="number" id="prijs-lade" value="15" step="0.5">
                        </div>
                    </div>
                    <div class="price-row">
                        <div class="price-input">
                            <label>Plintlijst per meter</label>
                            <input type="number" id="prijs-plintlijst" value="12" step="0.5">
                        </div>
                        <div class="price-input">
                            <label>Hoekkast</label>
                            <input type="number" id="prijs-hoekkast" value="35" step="0.5">
                        </div>
                    </div>
                    <div class="price-row">
                        <div class="price-input">
                            <label>Rekje</label>
                            <input type="number" id="prijs-rekje" value="8" step="0.5">
                        </div>
                        <div class="price-input">
                            <label>Zijkant (per stuk)</label>
                            <input type="number" id="prijs-zijkant" value="30" step="0.5">
                        </div>
                    </div>
                    <div class="price-row">
                        <div class="price-input">
                            <label>Emballage (vast)</label>
                            <input type="number" id="prijs-emballage" value="25" step="1">
                        </div>
                    </div>
                </div>

                <div class="category-card" style="margin-top: 20px;">
                    <h3>üìä Folie Instellingen</h3>
                    <label>Verspilling percentage</label>
                    <input type="number" id="verspilling" value="15" step="1" min="0" max="50">
                    <small style="color: #666;">Standaard: 15% verspilling voor snijverlies</small>
                </div>

                <div class="category-card" style="margin-top: 20px;">
                    <h3>üìß Contactgegevens</h3>
                    <label>Telefoonnummer</label>
                    <input type="tel" id="contact-phone" value="0631917022" 
                           style="border: 2px solid #dee2e6; border-radius: 8px; padding: 12px; width: 100%; font-size: 16px; margin-bottom: 15px;">
                    <small style="color: #666; display: block; margin-bottom: 15px;">Gebruikt voor WhatsApp links</small>
                    
                    <label>Email adres</label>
                    <input type="text" id="contact-email" value="info@folievoordelen.nl" 
                           style="border: 2px solid #dee2e6; border-radius: 8px; padding: 12px; width: 100%; font-size: 16px;">
                    <small style="color: #666; display: block; margin-top: 5px;">Ontvangt calculator aanvragen</small>
                </div>
            </div>

            <button class="save-button" onclick="saveSettings()">üíæ Instellingen Opslaan</button>
            <button class="export-button" onclick="exportSettings()">üì§ Export Prijslijst (JSON)</button>
        </div>

        <!-- Stats Tab -->
        <div id="stats-tab" class="tab-content">
            <h2>üìä Statistieken</h2>
            
            <!-- Bezoekersstatistieken -->
            <div id="visitorStats" style="margin-bottom: 30px;"></div>
            
            <div class="stats-grid" id="statsGrid"></div>
            
            <div style="margin-top: 30px;">
                <h3>Bodaq Categorie√´n</h3>
                <div id="bodaqStats" style="margin-top: 15px;"></div>
            </div>
            
            <div style="margin-top: 30px;">
                <h3>Coverstyl Categorie√´n</h3>
                <div id="coverstylStats" style="margin-top: 15px;"></div>
            </div>
            <div style="margin-top: 30px;">
                <h3>SOIF Categorie√´n</h3>
                <div id="soifStats" style="margin-top: 15px;"></div>
            </div>
        </div>
    </div>
    <script>
        if (typeof BODAQ_PRODUCTS === 'undefined' || typeof COVERSTYL_PRODUCTS === 'undefined' || typeof SOIF_PRODUCTS === 'undefined') {
            alert('FOUT: calculator_products.js niet gevonden of SOIF_PRODUCTS ontbreekt!');
        }

        const CATEGORY_INFO = {
            'Wood': { icon: 'üå≥', name: 'Hout', color: '#8B4513' },
            'Solid': { icon: 'üé®', name: 'Uni', color: '#4CAF50' },
            'Stone': { icon: 'ü™®', name: 'Steen', color: '#757575' },
            'Metal': { icon: '‚öôÔ∏è', name: 'Metaal', color: '#9E9E9E' },
            'Textile': { icon: 'üßµ', name: 'Textiel', color: '#E91E63' },
            'Texture': { icon: '‚ú®', name: 'Textuur', color: '#FF9800' },
            'Concrete': { icon: 'üèóÔ∏è', name: 'Beton', color: '#607D8B' },
            'Glitter': { icon: '‚ú®', name: 'Glitter', color: '#FF4081' },
            'Leather': { icon: 'üêÇ', name: 'Leer', color: '#8D6E63' }
        };

        const DEFAULT_PRICES = {
            bodaq: {
                Wood: 45,
                Solid: 42,
                Stone: 48,
                Metal: 50,
                Textile: 47,
                Texture: 44
            },
            coverstyl: {
                Wood: 43,
                Solid: 40,
                Stone: 46,
                Concrete: 45,
                Metal: 48,
                Textile: 45,
                Glitter: 52,
                Leather: 48,
                Texture: 44
            },
            soif: {
                Wood: 45,
                Solid: 42,
                Stone: 48,
                Metal: 50,
                Textile: 47,
                Leather: 48
            }
        };

        function countCategories(products) {
            const counts = {};
            products.forEach(p => {
                counts[p.category] = (counts[p.category] || 0) + 1;
            });
            return counts;
        }

        function loadPricing() {
            const saved = localStorage.getItem('categoryPricing');
            if (saved) {
                return JSON.parse(saved);
            }
            return DEFAULT_PRICES;
        }

        function savePricing() {
            const pricing = {
                bodaq: {},
                coverstyl: {}
            };

            // Bodaq
            Object.keys(CATEGORY_INFO).forEach(cat => {
                const input = document.getElementById(`bodaq-${cat}`);
                if (input) {
                    pricing.bodaq[cat] = parseFloat(input.value);
                }
            });

            // Coverstyl
            Object.keys(CATEGORY_INFO).forEach(cat => {
                const input = document.getElementById(`coverstyl-${cat}`);
                if (input) {
                    pricing.coverstyl[cat] = parseFloat(input.value);
                }
            });

            localStorage.setItem('categoryPricing', JSON.stringify(pricing));
            
            // Show success
            const msg = document.getElementById('successMessage');
            msg.classList.add('show');
            setTimeout(() => msg.classList.remove('show'), 3000);
        }

        function saveSettings() {
            const settings = {
                prijzen: {
                    front: parseFloat(document.getElementById('prijs-front').value),
                    lade: parseFloat(document.getElementById('prijs-lade').value),
                    plintlijst: parseFloat(document.getElementById('prijs-plintlijst').value),
                    hoekkast: parseFloat(document.getElementById('prijs-hoekkast').value),
                    rekje: parseFloat(document.getElementById('prijs-rekje').value),
                    zijkant: parseFloat(document.getElementById('prijs-zijkant').value),
                    emballage: parseFloat(document.getElementById('prijs-emballage').value)
                },
                folie: {
                    verspilling_percentage: parseInt(document.getElementById('verspilling').value)
                },
                contact: {
                    phone: document.getElementById('contact-phone').value,
                email: document.getElementById('contact-email').value
                }
            };
            
            localStorage.setItem('calculatorSettings', JSON.stringify(settings));
            alert('‚úÖ Instellingen opgeslagen!');
        }

        function exportSettings() {
            const pricing = loadPricing();
            const settings = JSON.parse(localStorage.getItem('calculatorSettings') || '{}');
            
            const exportData = {
                categoryPricing: pricing,
                generalSettings: settings,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `folievoordelen-prijzen-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
        }

        function renderStats() {
            // Bezoekersstatistieken
            const visitorDiv = document.getElementById('visitorStats');
            try {
                const stats = JSON.parse(localStorage.getItem('calculatorStats') || '{}');
                const aanvragen = JSON.parse(localStorage.getItem('aanvragen') || '[]');
                const visits = stats.visits || {};
                const today = new Date().toISOString().split('T')[0];
                const todayVisits = visits[today] || 0;
                
                // Laatste 7 dagen
                const last7 = [];
                for (var i = 6; i >= 0; i--) {
                    var d = new Date();
                    d.setDate(d.getDate() - i);
                    var key = d.toISOString().split('T')[0];
                    var dagNaam = d.toLocaleDateString('nl-NL', { weekday: 'short', day: 'numeric', month: 'short' });
                    last7.push({ datum: dagNaam, aantal: visits[key] || 0 });
                }

                visitorDiv.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div style="background: linear-gradient(135deg, #d4af37, #c5a028); color: #1a1a1a; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${stats.totalVisits || 0}</div>
                            <div style="font-size: 13px; opacity: 0.8;">Totaal bezoekers</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #4CAF50, #388E3C); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${todayVisits}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Vandaag</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #1976D2, #1565C0); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${aanvragen.length}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Aanvragen</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #7B1FA2, #6A1B9A); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 32px; font-weight: bold;">${stats.lastVisit || '-'}</div>
                            <div style="font-size: 13px; opacity: 0.9;">Laatste bezoek</div>
                        </div>
                    </div>
                    <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h3 style="margin-top: 0; margin-bottom: 15px;">üìà Bezoekers afgelopen 7 dagen</h3>
                        <div style="display: flex; align-items: flex-end; gap: 8px; height: 120px;">
                            ${last7.map(function(dag) {
                                var maxVal = Math.max.apply(null, last7.map(function(d) { return d.aantal; })) || 1;
                                var height = Math.max(dag.aantal / maxVal * 100, 4);
                                return '<div style="flex: 1; text-align: center;">' +
                                    '<div style="font-weight: bold; font-size: 14px; margin-bottom: 4px;">' + dag.aantal + '</div>' +
                                    '<div style="background: linear-gradient(to top, #d4af37, #f0d060); height: ' + height + 'px; border-radius: 6px 6px 0 0; min-height: 4px;"></div>' +
                                    '<div style="font-size: 11px; color: #666; margin-top: 4px;">' + dag.datum + '</div>' +
                                '</div>';
                            }).join('')}
                        </div>
                    </div>
                    <div style="margin-top: 10px; text-align: right;">
                        <button onclick="if(confirm('Bezoekersstatistieken resetten?')){localStorage.removeItem('calculatorStats');renderStats();}" style="padding: 6px 12px; background: #dc3545; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 12px;">üóëÔ∏è Reset teller</button>
                    </div>
                `;
            } catch(e) {
                visitorDiv.innerHTML = '<p style="color: #999;">Geen bezoekersdata beschikbaar.</p>';
            }

            const bodaqCounts = countCategories(BODAQ_PRODUCTS);
            const coverstylCounts = countCategories(COVERSTYL_PRODUCTS);
            const soifCounts = countCategories(SOIF_PRODUCTS);
            
            // Main stats
            const statsGrid = document.getElementById('statsGrid');
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <div class="stat-label">Totaal Producten</div>
                    <div class="stat-number">${BODAQ_PRODUCTS.length + COVERSTYL_PRODUCTS.length + SOIF_PRODUCTS.length}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Bodaq Kleuren</div>
                    <div class="stat-number">${BODAQ_PRODUCTS.length}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Coverstyl Kleuren</div>
                    <div class="stat-number">${COVERSTYL_PRODUCTS.length}</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #e65100 0%, #ff6d00 100%);">
                    <div class="stat-label">SOIF Kleuren</div>
                    <div class="stat-number">${SOIF_PRODUCTS.length}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Categorie√´n</div>
                    <div class="stat-number">${new Set([...Object.keys(bodaqCounts), ...Object.keys(coverstylCounts), ...Object.keys(soifCounts)]).size}</div>
                </div>
            `;

            // Bodaq breakdown
            document.getElementById('bodaqStats').innerHTML = Object.entries(bodaqCounts).sort().map(([cat, count]) => {
                const info = CATEGORY_INFO[cat] || { icon: 'üìã', name: cat };
                const pct = ((count / BODAQ_PRODUCTS.length) * 100).toFixed(1);
                return `
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8f9fa; margin-bottom: 8px; border-radius: 8px;">
                        <span><strong>${info.icon} ${info.name}</strong></span>
                        <span>${count} kleuren (${pct}%)</span>
                    </div>
                `;
            }).join('');

            // Coverstyl breakdown
            document.getElementById('coverstylStats').innerHTML = Object.entries(coverstylCounts).sort().map(([cat, count]) => {
                const info = CATEGORY_INFO[cat] || { icon: 'üìã', name: cat };
                const pct = ((count / COVERSTYL_PRODUCTS.length) * 100).toFixed(1);
                return `
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8f9fa; margin-bottom: 8px; border-radius: 8px;">
                        <span><strong>${info.icon} ${info.name}</strong></span>
                        <span>${count} kleuren (${pct}%)</span>
                    </div>
                `;
            }).join('');

            // SOIF breakdown
            document.getElementById('soifStats').innerHTML = Object.entries(soifCounts).sort().map(([cat, count]) => {
                const info = CATEGORY_INFO[cat] || { icon: 'üìã', name: cat };
                const pct = ((count / SOIF_PRODUCTS.length) * 100).toFixed(1);
                return `
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8f9fa; margin-bottom: 8px; border-radius: 8px;">
                        <span><strong>${info.icon} ${info.name}</strong></span>
                        <span>${count} kleuren (${pct}%)</span>
                    </div>
                `;
            }).join('');
        }

        function loadSettings() {
            const saved = localStorage.getItem('calculatorSettings');
            if (saved) {
                const settings = JSON.parse(saved);
                document.getElementById('prijs-front').value = settings.prijzen?.front || 25;
                document.getElementById('prijs-lade').value = settings.prijzen?.lade || 15;
                document.getElementById('prijs-plintlijst').value = settings.prijzen?.plintlijst || 12;
                document.getElementById('prijs-hoekkast').value = settings.prijzen?.hoekkast || 35;
                document.getElementById('prijs-rekje').value = settings.prijzen?.rekje || 8;
                document.getElementById('prijs-zijkant').value = settings.prijzen?.zijkant || 30;
                document.getElementById('prijs-emballage').value = settings.prijzen?.emballage || 25;
                document.getElementById('verspilling').value = settings.folie?.verspilling_percentage || 15;
                document.getElementById('contact-email').value = settings.contact?.email || 'info@folievoordelen.nl';
                document.getElementById('contact-phone').value = settings.contact?.phone || '0631917022';
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
            
            if (tab === 'stats') {
                renderStats();
            }
            if (tab === 'aanvragen') {
                renderAanvragen();
            }
        }

        // === AANVRAGEN FUNCTIES ===
        function renderAanvragen() {
            const aanvragen = JSON.parse(localStorage.getItem('aanvragen') || '[]');
            const list = document.getElementById('aanvragenList');
            
            if (aanvragen.length === 0) {
                list.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;"><p style="font-size: 48px;">üì≠</p><p>Nog geen aanvragen ontvangen.</p></div>';
                return;
            }

            const savedSettings = JSON.parse(localStorage.getItem('calculatorSettings') || '{}');
            const myPhone = savedSettings.contact?.phone || '0631917022';

            const reversed = [...aanvragen].reverse();
            list.innerHTML = reversed.map((a) => {
                let samenstellingHTML = '';
                if (a.samenstelling.deurtjes && a.samenstelling.deurtjes.length > 0) {
                    samenstellingHTML += '<div>üö™ Deurtjes: ' + a.samenstelling.deurtjes.map(d => `${d.aantal}√ó ${d.breedte}√ó${d.hoogte}cm`).join(', ') + '</div>';
                }
                if (a.samenstelling.lades && a.samenstelling.lades.length > 0) {
                    samenstellingHTML += '<div>üì¶ Lades: ' + a.samenstelling.lades.map(l => `${l.aantal}√ó ${l.breedte}√ó${l.hoogte}cm`).join(', ') + '</div>';
                }
                if (a.samenstelling.plintlijsten && a.samenstelling.plintlijsten.length > 0) {
                    samenstellingHTML += '<div>üìè Plintlijsten: ' + a.samenstelling.plintlijsten.map(p => `${p.aantal}√ó ${p.lengte}m√ó${p.hoogte}cm`).join(', ') + '</div>';
                }
                if (a.samenstelling.zijkanten && a.samenstelling.zijkanten.length > 0) {
                    samenstellingHTML += '<div>üìê Zijkanten: ' + a.samenstelling.zijkanten.map(z => `${z.aantal}√ó ${z.breedte}√ó${z.hoogte}cm <strong>(${z.metersPerStuk}m folie/stuk)</strong>`).join(', ') + '</div>';
                }
                if (a.samenstelling.hoekkast > 0) {
                    samenstellingHTML += `<div>üî≤ Hoekkasten: ${a.samenstelling.hoekkast}</div>`;
                }

                const waPhone = (a.klant.telefoon || '').replace(/\s/g, '').replace(/^0/, '31');

                return `
                <div class="aanvraag-card" data-search="${(a.klant.naam + ' ' + a.nr + ' ' + a.klant.adres).toLowerCase()}" style="background: white; border-radius: 12px; border-left: 5px solid #d4af37; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; flex-wrap: wrap; gap: 8px;">
                        <div>
                            <span style="background: #d4af37; color: #1a1a1a; padding: 4px 12px; border-radius: 20px; font-weight: bold; font-size: 13px;">${a.nr}</span>
                            <span style="margin-left: 10px; color: #666; font-size: 14px;">${a.datum}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px; font-weight: bold; color: #333;">${a.prijsIndicatie}</span>
                            <button onclick="deleteAanvraag('${a.nr}')" title="Verwijder" style="background: none; border: none; cursor: pointer; font-size: 18px; padding: 4px; opacity: 0.5; transition: opacity 0.2s;" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.5">üóëÔ∏è</button>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <div style="font-weight: 600; font-size: 16px; margin-bottom: 5px;">üë§ ${a.klant.naam}</div>
                            <div style="color: #666; font-size: 13px;">üìß ${a.klant.email}</div>
                            <div style="color: #666; font-size: 13px;">üì± ${a.klant.telefoon}</div>
                            <div style="color: #666; font-size: 13px;">üìç ${a.klant.adres}</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 5px;">üé® ${a.folie.merk} ${a.folie.code}</div>
                            <div style="font-size: 13px; color: #666; margin-bottom: 8px;">${a.folie.naam}</div>
                            <div style="font-size: 13px;">${samenstellingHTML}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #eee; display: flex; gap: 10px; flex-wrap: wrap;">
                        <span style="background: #e3f2fd; padding: 4px 10px; border-radius: 6px; font-size: 13px; font-weight: 600; color: #1565c0;">üìè Folie: ${a.totaalFolieMeters}m</span>
                        <span style="background: #fff3cd; padding: 4px 10px; border-radius: 6px; font-size: 13px; font-weight: 600; color: #856404;">üìä Versp: ${a.verspilling}%</span>
                        <span style="background: #e8f5e9; padding: 4px 10px; border-radius: 6px; font-size: 13px; font-weight: 600; color: #2e7d32;">üí∞ ‚Ç¨${a.folie.prijsPerMeter}/m</span>
                    </div>
                    ${a.opmerkingen ? '<div style="margin-top: 10px; padding: 10px; background: #f8f9fa; border-radius: 6px; font-size: 13px;"><strong>üí¨ Opmerking:</strong> ' + a.opmerkingen + '</div>' : ''}
                    
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #eee; display: flex; gap: 10px; flex-wrap: wrap;">
                        <a href="mailto:${a.klant.email}?subject=Re: Uw aanvraag ${a.nr} - Folievoordelen&body=Beste ${a.klant.naam},%0A%0ABedankt voor uw interesse in Folievoordelen! Wat leuk dat u overweegt om uw keuken een nieuw leven te geven.%0A%0AIk heb uw aanvraag (${a.nr}) voor ${a.folie.merk} ${a.folie.code} in goede orde ontvangen.%0A%0AGraag kom ik vrijblijvend bij u langs om de mogelijkheden te bespreken en een offerte op maat te maken. Zou u mij laten weten welke dag en tijdstip u het beste uitkomt?%0A%0AMocht u in de tussentijd vragen hebben, dan kunt u mij altijd bereiken via telefoon of WhatsApp.%0A%0AMet vriendelijke groet,%0ARik Lentjes%0AFolievoordelen%0A${myPhone}" 
                           style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; background: #0078d4; color: white; text-decoration: none; border-radius: 8px; font-size: 13px; font-weight: 600;">
                            üìß Mail
                        </a>
                        <a href="https://wa.me/${waPhone}?text=${encodeURIComponent('Hallo ' + a.klant.naam + ', bedankt voor uw interesse in Folievoordelen! Ik heb uw aanvraag (' + a.nr + ') voor ' + a.folie.merk + ' ' + a.folie.code + ' ontvangen. Wanneer zou het u schikken voor een vrijblijvend bezoek aan huis? Groet, Rik')}" 
                           target="_blank"
                           style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; background: #25d366; color: white; text-decoration: none; border-radius: 8px; font-size: 13px; font-weight: 600;">
                            üí¨ WhatsApp
                        </a>
                        <a href="tel:${a.klant.telefoon}" 
                           style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; background: #6c757d; color: white; text-decoration: none; border-radius: 8px; font-size: 13px; font-weight: 600;">
                            üì± Bel
                        </a>
                    </div>
                </div>`;
            }).join('');
        }

        function filterAanvragen() {
            const search = document.getElementById('aanvraagSearch').value.toLowerCase();
            document.querySelectorAll('.aanvraag-card').forEach(card => {
                const text = card.dataset.search;
                card.style.display = text.includes(search) ? 'block' : 'none';
            });
        }

        function clearAanvragen() {
            const aanvragen = JSON.parse(localStorage.getItem('aanvragen') || '[]');
            if (aanvragen.length === 0) { alert('Er zijn geen aanvragen.'); return; }
            if (confirm(`Weet je zeker dat je alle ${aanvragen.length} aanvragen wilt verwijderen?\n\nDit kan niet ongedaan worden gemaakt.`)) {
                localStorage.removeItem('aanvragen');
                renderAanvragen();
            }
        }

        function deleteAanvraag(nr) {
            if (!confirm(`Aanvraag ${nr} verwijderen?`)) return;
            const aanvragen = JSON.parse(localStorage.getItem('aanvragen') || '[]');
            const filtered = aanvragen.filter(a => a.nr !== nr);
            localStorage.setItem('aanvragen', JSON.stringify(filtered));
            renderAanvragen();
        }

        function init() {
            loadSettings();
            console.log('‚úÖ Admin Panel geladen');
            console.log(`üìä Bodaq: ${BODAQ_PRODUCTS.length} producten`);
            console.log(`üìä Coverstyl: ${COVERSTYL_PRODUCTS.length} producten`);
            console.log(`üìä SOIF: ${SOIF_PRODUCTS.length} producten`);
        }

        window.addEventListener('DOMContentLoaded', init);
    
        // === BULK PRICING FUNCTIONS ===
        function setBulkPct(brand, pct) {
            document.getElementById(`bulk-${brand}-pct`).value = pct;
            previewBulk(brand);
        }

        function parseInkoopPrice(priceStr) {
            if (!priceStr) return 0;
            return parseFloat(priceStr.replace('‚Ç¨', '').replace(',', '.').trim()) || 0;
        }

        function previewBulk(brand) {
            const pct = parseFloat(document.getElementById(`bulk-${brand}-pct`).value) || 0;
            const multiplier = 1 + (pct / 100);
            const inkoop = brand === 'bodaq' ? BODAQ_INKOOP : (brand === 'soif' ? SOIF_INKOOP : COVERSTYL_INKOOP);
            const customPrices = JSON.parse(localStorage.getItem('customProductPrices') || '{}');
            const products = brand === 'bodaq' ? BODAQ_PRODUCTS : (brand === 'soif' ? SOIF_PRODUCTS : COVERSTYL_PRODUCTS);
            
            let html = '<div style="background: #f8f9fa; border-radius: 10px; padding: 15px; margin-top: 10px;">';
            html += `<strong style="color: ${pct >= 0 ? '#28a745' : '#dc3545'};">${pct >= 0 ? 'üìà' : 'üìâ'} ${pct >= 0 ? '+' : ''}${pct}% aanpassing</strong>`;
            
            // Show some example prices
            html += '<div style="margin-top: 12px;"><strong>Voorbeelden:</strong></div>';
            let shown = 0;
            for (const p of products) {
                if (shown >= 5) break;
                const currentStr = customPrices[p.code] || (inkoop[p.code] ? inkoop[p.code] : null);
                if (!currentStr) continue;
                const current = customPrices[p.code] ? parseFloat(customPrices[p.code]) : parseInkoopPrice(currentStr);
                if (current <= 0) continue;
                const newPrice = Math.round(current * multiplier * 100) / 100;
                const diff = newPrice - current;
                html += `<div style="display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px solid #e9ecef; font-size: 13px;">
                    <span>${p.code} (${p.category})</span>
                    <span>‚Ç¨${current.toFixed(2)} ‚Üí <strong style="color: ${pct >= 0 ? '#28a745' : '#dc3545'};">‚Ç¨${newPrice.toFixed(2)}</strong> 
                    <small>(${diff >= 0 ? '+' : ''}‚Ç¨${diff.toFixed(2)})</small></span>
                </div>`;
                shown++;
            }

            // Count totals
            let totalCount = 0;
            products.forEach(p => {
                if (customPrices[p.code] || inkoop[p.code]) totalCount++;
            });

            html += `<div style="margin-top: 12px; font-size: 13px; color: #666;">
                <strong>Totaal:</strong> ${totalCount} folieprijzen worden aangepast.
            </div>`;
            
            html += '</div>';
            document.getElementById(`bulk-${brand}-preview`).innerHTML = html;
        }

        function applyBulk(brand) {
            const pct = parseFloat(document.getElementById(`bulk-${brand}-pct`).value) || 0;
            if (pct === 0) {
                alert('‚ö†Ô∏è Percentage staat op 0%. Er verandert niets.');
                return;
            }

            const brandName = brand.charAt(0).toUpperCase() + brand.slice(1);
            const confirmMsg = `Weet je zeker dat je alle ${brandName} folieprijzen wilt aanpassen met ${pct >= 0 ? '+' : ''}${pct}%?\n\nDit kan niet automatisch ongedaan worden gemaakt.`;
            if (!confirm(confirmMsg)) return;

            const multiplier = 1 + (pct / 100);
            const customPrices = JSON.parse(localStorage.getItem('customProductPrices') || '{}');
            const inkoop = brand === 'bodaq' ? BODAQ_INKOOP : (brand === 'soif' ? SOIF_INKOOP : COVERSTYL_INKOOP);
            const products = brand === 'bodaq' ? BODAQ_PRODUCTS : (brand === 'soif' ? SOIF_PRODUCTS : COVERSTYL_PRODUCTS);
            let count = 0;
            
            products.forEach(p => {
                if (customPrices[p.code]) {
                    const current = parseFloat(customPrices[p.code]);
                    customPrices[p.code] = (Math.round(current * multiplier * 100) / 100).toFixed(2);
                    count++;
                } else if (inkoop[p.code]) {
                    const current = parseInkoopPrice(inkoop[p.code]);
                    if (current > 0) {
                        customPrices[p.code] = (Math.round(current * multiplier * 100) / 100).toFixed(2);
                        count++;
                    }
                }
            });
            localStorage.setItem('customProductPrices', JSON.stringify(customPrices));

            // Refresh UI
            loadColorList();
            previewBulk(brand);

            alert(`‚úÖ ${brandName}: ${count} folieprijzen aangepast met ${pct >= 0 ? '+' : ''}${pct}%!\n\nGa naar Kleuren & Prijzen om de nieuwe prijzen te zien.`);
        }

        let currentColorBrand = 'bodaq';
        const BODAQ_INKOOP = {"APZ05":"‚Ç¨34,03","APZ14":"‚Ç¨34,03","APZ18":"‚Ç¨34,03","APZ25":"‚Ç¨34,03","APZ26":"‚Ç¨34,03","BZ910":"‚Ç¨25,51","CP202":"‚Ç¨25,51","DM017":"‚Ç¨25,51","DM036":"‚Ç¨25,51","DM801":"‚Ç¨25,51","DW710":"‚Ç¨25,51","DW724":"‚Ç¨25,51","DW801":"‚Ç¨25,51","HD711":"‚Ç¨25,51","HS204":"‚Ç¨23,80","HS205":"‚Ç¨23,80","LM202":"‚Ç¨22,96","LS102":"‚Ç¨22,96","LS103":"‚Ç¨22,96","LS104":"‚Ç¨22,96","LS106":"‚Ç¨22,96","LW107":"‚Ç¨26,03","LW110":"‚Ç¨26,03","LW112":"‚Ç¨26,03","LW115":"‚Ç¨26,03","LW119":"‚Ç¨26,03","LW120":"‚Ç¨26,03","NS121":"‚Ç¨25,51","NS401":"‚Ç¨25,51","NS402":"‚Ç¨25,51","NS403":"‚Ç¨25,51","NS410":"‚Ç¨25,51","NS601":"‚Ç¨25,51","NS602":"‚Ç¨25,51","NS703":"‚Ç¨25,51","NS704":"‚Ç¨25,51","NS705":"‚Ç¨25,51","NS707":"‚Ç¨25,51","NS708":"‚Ç¨25,51","NS710":"‚Ç¨25,51","NS711":"‚Ç¨25,51","NS804":"‚Ç¨25,51","NS806":"‚Ç¨25,51","NS814":"‚Ç¨25,51","NS815":"‚Ç¨25,51","NS820":"‚Ç¨25,51","NS895":"‚Ç¨25,51","PM003":"‚Ç¨29,78","PM004":"‚Ç¨29,78","PM006":"‚Ç¨29,78","PM007":"‚Ç¨29,78","PM008":"‚Ç¨29,78","PM009":"‚Ç¨29,78","PM011":"‚Ç¨29,78","PM015":"‚Ç¨29,78","PM016":"‚Ç¨29,78","PM018":"‚Ç¨29,78","PNC41":"‚Ç¨25,51","PNC42":"‚Ç¨25,51","PNC43":"‚Ç¨25,51","PNC44":"‚Ç¨25,51","PNC45":"‚Ç¨25,51","PNC46":"‚Ç¨25,51","PNC49":"‚Ç¨25,51","PNC50":"‚Ç¨25,51","PNT01":"‚Ç¨25,51","PNT02":"‚Ç¨25,51","PNT04":"‚Ç¨25,51","PNT05":"‚Ç¨25,51","PNT07":"‚Ç¨25,51","PNT08":"‚Ç¨25,51","PNT09":"‚Ç¨25,51","PNT10":"‚Ç¨25,51","PTW04":"‚Ç¨25,51","PTW05":"‚Ç¨25,51","PTW06":"‚Ç¨25,51","PTW07":"‚Ç¨25,51","PZ901":"‚Ç¨25,51","PZ904":"‚Ç¨25,51","RF007":"‚Ç¨51,11","RF008":"‚Ç¨51,11","RF009":"‚Ç¨51,11","RF011":"‚Ç¨51,11","RM002":"‚Ç¨25,51","RM003":"‚Ç¨25,51","RM004":"‚Ç¨25,51","RM005":"‚Ç¨25,51","RM006":"‚Ç¨25,51","RM007":"‚Ç¨25,51","RM008":"‚Ç¨25,51","RM009":"‚Ç¨25,51","RM011":"‚Ç¨25,51","RM012":"‚Ç¨25,51","RM013":"‚Ç¨25,51","RM022":"‚Ç¨25,51","RM051":"‚Ç¨25,51","S115":"‚Ç¨21,24","S126":"‚Ç¨21,24","S127":"‚Ç¨21,24","S128":"‚Ç¨21,24","S140":"‚Ç¨21,24","S141":"‚Ç¨21,24","S143":"‚Ç¨21,24","S145":"‚Ç¨21,24","S146":"‚Ç¨21,24","S147":"‚Ç¨21,24","S149":"‚Ç¨21,24","S150":"‚Ç¨21,24","S153":"‚Ç¨21,24","S156":"‚Ç¨21,24","S157":"‚Ç¨21,24","S158":"‚Ç¨21,24","S159":"‚Ç¨21,24","S166":"‚Ç¨21,24","S169":"‚Ç¨21,24","S173":"‚Ç¨21,24","S175":"‚Ç¨21,24","S176":"‚Ç¨21,24","S177":"‚Ç¨21,24","S178":"‚Ç¨21,24","S179":"‚Ç¨21,24","S181":"‚Ç¨21,24","S183":"‚Ç¨21,24","S185":"‚Ç¨21,24","S186":"‚Ç¨21,24","S188":"‚Ç¨21,24","S189":"‚Ç¨21,24","S194":"‚Ç¨21,24","S195":"‚Ç¨21,24","S197":"‚Ç¨21,24","S198":"‚Ç¨21,24","S200":"‚Ç¨21,24","S201":"‚Ç¨21,24","S202":"‚Ç¨21,24","S204":"‚Ç¨21,24","S207":"‚Ç¨21,24","S208":"‚Ç¨21,24","S209":"‚Ç¨21,24","S210":"‚Ç¨21,24","S211":"‚Ç¨21,24","S212":"‚Ç¨21,24","S213":"‚Ç¨21,24","S214":"‚Ç¨21,24","S215":"‚Ç¨21,66","S217":"‚Ç¨21,24","S218":"‚Ç¨21,24","S230":"‚Ç¨21,24","S231":"‚Ç¨21,24","S232":"‚Ç¨21,24","S233":"‚Ç¨21,24","S235":"‚Ç¨21,24","S238":"‚Ç¨21,24","S239":"‚Ç¨21,24","S241":"‚Ç¨21,24","S242":"‚Ç¨21,24","S243":"‚Ç¨21,24","S257":"‚Ç¨21,24","SMT01":"‚Ç¨25,51","SMT03":"‚Ç¨25,51","SMT04":"‚Ç¨25,51","SMT05":"‚Ç¨25,51","SMT06":"‚Ç¨25,51","SMT07":"‚Ç¨25,51","SMT10":"‚Ç¨25,51","SMT11":"‚Ç¨25,51","SMT13":"‚Ç¨25,51","SMT14":"‚Ç¨25,51","SMT15":"‚Ç¨25,51","SPW12":"‚Ç¨25,51","SPW13":"‚Ç¨25,51","SPW15":"‚Ç¨25,51","SPW16":"‚Ç¨25,51","SPW17":"‚Ç¨25,51","SPW18":"‚Ç¨25,51","SPW92":"‚Ç¨25,51","SPW93":"‚Ç¨25,51","SPW94":"‚Ç¨25,51","SPW95":"‚Ç¨25,51","SPW96":"‚Ç¨25,51","TNS03":"‚Ç¨34,03","TNS04":"‚Ç¨34,03","TNS05":"‚Ç¨34,03","TNS10":"‚Ç¨34,03","W141":"‚Ç¨22,96","W171":"‚Ç¨22,96","W195":"‚Ç¨22,96","W198":"‚Ç¨22,96","W199":"‚Ç¨22,96","W200":"‚Ç¨22,96","W205":"‚Ç¨22,96","W207":"‚Ç¨22,96","W251":"‚Ç¨22,96","W274":"‚Ç¨22,96","W276":"‚Ç¨22,96","W302":"‚Ç¨22,96","W371":"‚Ç¨22,96","W375":"‚Ç¨22,96","W376":"‚Ç¨22,96","W389":"‚Ç¨22,96","W401":"‚Ç¨22,96","W504":"‚Ç¨22,96","W508":"‚Ç¨22,96","W636":"‚Ç¨22,96","W638":"‚Ç¨22,96","W671":"‚Ç¨22,96","W705":"‚Ç¨22,96","W722":"‚Ç¨22,96","W731":"‚Ç¨22,96","W816":"‚Ç¨22,96","W823":"‚Ç¨22,96","W845":"‚Ç¨22,96","W849":"‚Ç¨22,96","W863":"‚Ç¨22,96","W864":"‚Ç¨22,96","W865":"‚Ç¨22,96","W870":"‚Ç¨22,96","W871":"‚Ç¨22,96","W874":"‚Ç¨22,96","W879":"‚Ç¨22,96","W923":"‚Ç¨22,96","W925":"‚Ç¨22,96","W931":"‚Ç¨22,96","W932":"‚Ç¨22,96","W935":"‚Ç¨22,96","W938":"‚Ç¨22,96","W944":"‚Ç¨22,96","W945":"‚Ç¨22,96","W949":"‚Ç¨22,96","ZSW01":"‚Ç¨25,51","ZSW04":"‚Ç¨25,51","ZX107":"‚Ç¨25,51","ZX111":"‚Ç¨25,51","ZX112":"‚Ç¨25,51","ZX117":"‚Ç¨25,51","ZX118":"‚Ç¨25,51","ZX119":"‚Ç¨25,51","ZX120":"‚Ç¨25,51","ZX123":"‚Ç¨25,51","ZX125":"‚Ç¨25,51","ZX126":"‚Ç¨25,51","ZX128":"‚Ç¨25,51","ZX129":"‚Ç¨25,51","ZX131":"‚Ç¨25,51","ZX132":"‚Ç¨25,51","ZX133":"‚Ç¨25,51","ZX134":"‚Ç¨25,51","ZX135":"‚Ç¨25,51","ZX136":"‚Ç¨25,51","ZX137":"‚Ç¨25,51","ZX138":"‚Ç¨25,51","ZX144":"‚Ç¨25,51","ZX145":"‚Ç¨25,51","ZX146":"‚Ç¨25,51","ZX147":"‚Ç¨25,51","ZX148":"‚Ç¨25,51","ZX149":"‚Ç¨25,51","ZX150":"‚Ç¨25,51","ZX157":"‚Ç¨25,51","ZX158":"‚Ç¨25,51","ZX160":"‚Ç¨25,51","ZX161":"‚Ç¨25,51","ZX165":"‚Ç¨25,51"};
        const COVERSTYL_INKOOP = {"AA14":"‚Ç¨25,67","AA15":"‚Ç¨25,67","AB05":"‚Ç¨25,67","AF03":"‚Ç¨25,67","AF08":"‚Ç¨25,67","AF10":"‚Ç¨25,67","AG14":"‚Ç¨25,67","AG20":"‚Ç¨25,67","AL09":"‚Ç¨29,26","AL11":"‚Ç¨38,57","AL14":"‚Ç¨25,67","AL15":"‚Ç¨38,57","AL24":"‚Ç¨25,67","AL29":"‚Ç¨25,67","AT04":"‚Ç¨25,67","AU01":"‚Ç¨77,06","AU02":"‚Ç¨77,06","AZ07":"‚Ç¨25,67","B1":"‚Ç¨25,67","B3":"‚Ç¨25,67","B4":"‚Ç¨25,67","B5":"‚Ç¨25,67","B50":"‚Ç¨25,67","B6":"‚Ç¨25,67","B8":"‚Ç¨25,67","CT02":"‚Ç¨25,67","CT35":"‚Ç¨25,67","CT58":"‚Ç¨25,67","CT69":"‚Ç¨25,67","CT82":"‚Ç¨25,67","D1":"‚Ç¨25,67","D4":"‚Ç¨25,67","E50":"‚Ç¨25,67","F4":"‚Ç¨25,67","F5":"‚Ç¨25,67","F6":"‚Ç¨25,67","F7":"‚Ç¨25,67","G0":"‚Ç¨25,67","G6":"‚Ç¨25,67","H10":"‚Ç¨25,67","H4":"‚Ç¨25,67","H50":"‚Ç¨25,67","I10":"‚Ç¨25,67","I14":"‚Ç¨25,67","I9":"‚Ç¨25,67","J14":"‚Ç¨25,67","J17":"‚Ç¨25,67","J18":"‚Ç¨25,67","J2":"‚Ç¨25,67","J3":"‚Ç¨19,63","J4":"‚Ç¨19,63","J5":"‚Ç¨19,63","K1":"‚Ç¨19,63","K101":"‚Ç¨77,06","K4":"‚Ç¨19,63","K5":"‚Ç¨19,63","K6":"‚Ç¨19,63","K7":"‚Ç¨19,63","L2":"‚Ç¨19,63","M10":"‚Ç¨19,63","M4":"‚Ç¨19,63","M6":"‚Ç¨19,63","M7":"‚Ç¨19,63","M8":"‚Ç¨19,63","M9":"‚Ç¨19,63","MK13":"‚Ç¨27,39","MK14":"‚Ç¨27,39","MK15":"‚Ç¨27,39","MK18":"‚Ç¨27,39","N3":"‚Ç¨19,63","NE13":"‚Ç¨38,57","NE24":"‚Ç¨29,26","NE26":"‚Ç¨29,26","NE29":"‚Ç¨29,26","NE31":"‚Ç¨27,39","NE32":"‚Ç¨27,39","NE37":"‚Ç¨38,57","NE40":"‚Ç¨38,57","NE41":"‚Ç¨38,57","NE42":"‚Ç¨38,57","NE46":"‚Ç¨25,67","NE47":"‚Ç¨29,26","NE49":"‚Ç¨29,26","NE51":"‚Ç¨29,26","NE54":"‚Ç¨19,63","NE61":"‚Ç¨25,67","NE68":"‚Ç¨25,67","NE70":"‚Ç¨27,39","NE72":"‚Ç¨27,39","NE73":"‚Ç¨59,24","NE74":"‚Ç¨59,24","NE77":"‚Ç¨23,95","NE78":"‚Ç¨23,95","NE79":"‚Ç¨23,95","NE80":"‚Ç¨23,95","NE81":"‚Ç¨23,95","NE82":"‚Ç¨23,95","NF06":"‚Ç¨19,63","NF13":"‚Ç¨23,95","NF14":"‚Ç¨23,95","NF19":"‚Ç¨27,39","NF28":"‚Ç¨25,67","NF29":"‚Ç¨25,67","NF32":"‚Ç¨25,67","NF34":"‚Ç¨25,67","NF36":"‚Ç¨25,67","NF40":"‚Ç¨25,67","NF43":"‚Ç¨25,67","NF44":"‚Ç¨25,67","NF46":"‚Ç¨25,67","NF47":"‚Ç¨25,67","NF55":"‚Ç¨25,67","NF56":"‚Ç¨25,67","NF66":"‚Ç¨25,67","NF73":"‚Ç¨25,67","NF78":"‚Ç¨25,67","NF83":"‚Ç¨25,67","NF98":"‚Ç¨27,39","NF99":"‚Ç¨29,26","NG01":"‚Ç¨29,26","NG02":"‚Ç¨29,26","NG04":"‚Ç¨27,39","NG07":"‚Ç¨59,24","NG11":"‚Ç¨59,24","NG20":"‚Ç¨38,57","NG31":"‚Ç¨27,39","NH02":"‚Ç¨26,01","NH05":"‚Ç¨26,01","NH06":"‚Ç¨26,01","NH08":"‚Ç¨26,01","NH10":"‚Ç¨29,26","NH11":"‚Ç¨27,39","NH15":"‚Ç¨27,39","NH18":"‚Ç¨59,24","NH19":"‚Ç¨59,24","NH21":"‚Ç¨19,63","NH22":"‚Ç¨19,63","NH24":"‚Ç¨19,63","NH27":"‚Ç¨23,95","NH33":"‚Ç¨29,26","NH35":"‚Ç¨29,26","NH36":"‚Ç¨29,26","NH37":"‚Ç¨29,26","NH39":"‚Ç¨29,26","NH40":"‚Ç¨29,26","NH41":"‚Ç¨29,26","NH45":"‚Ç¨27,39","NH46":"‚Ç¨27,39","NH54":"‚Ç¨29,26","NH57":"‚Ç¨27,39","NH60":"‚Ç¨29,26","NH71":"‚Ç¨25,67","NH73":"‚Ç¨25,67","NH75":"‚Ç¨25,67","NH77":"‚Ç¨25,67","NH79":"‚Ç¨25,67","NH80":"‚Ç¨25,67","NH91":"‚Ç¨26,01","NH92":"‚Ç¨26,01","NH93":"‚Ç¨26,01","Q2":"‚Ç¨29,26","Q3":"‚Ç¨29,26","Q50":"‚Ç¨29,26","R10":"‚Ç¨35,13","R11":"‚Ç¨35,13","R12":"‚Ç¨35,13","R13":"‚Ç¨35,13","R14":"‚Ç¨35,13","R15":"‚Ç¨35,13","R16":"‚Ç¨35,13","R17":"‚Ç¨35,13","R18":"‚Ç¨35,13","R19":"‚Ç¨35,13","R5":"‚Ç¨35,13","R6":"‚Ç¨35,13","R7":"‚Ç¨35,13","R8":"‚Ç¨35,13","R9":"‚Ç¨35,13","RM03":"‚Ç¨19,63","RM04":"‚Ç¨19,63","RM06":"‚Ç¨19,63","RM10":"‚Ç¨19,63","RM13":"‚Ç¨19,63","RM23":"‚Ç¨19,63","RM27":"‚Ç¨19,63","RM29":"‚Ç¨19,63","ST02":"‚Ç¨38,57","T12":"‚Ç¨38,57","U10":"‚Ç¨29,26","U19":"‚Ç¨29,26","U20":"‚Ç¨29,26","U21":"‚Ç¨29,26","U50":"‚Ç¨27,39","W6":"‚Ç¨29,26","W7":"‚Ç¨29,26","X51":"‚Ç¨38,57","X52":"‚Ç¨38,57","XL":"‚Ç¨22,04","Z2":"‚Ç¨29,26","high":"‚Ç¨45,92","high-resistance-u20-cement-dark":"‚Ç¨45,92","pvc":"‚Ç¨32,14"};
        let disabledColors = JSON.parse(localStorage.getItem('disabledColors') || '{"bodaq": [], "coverstyl": [], "soif": []}');
        const SOIF_INKOOP = {"BG8003":"‚Ç¨30,09","BG8004":"‚Ç¨29,62","BG8006":"‚Ç¨29,62","BG8007":"‚Ç¨29,62","CG5500":"‚Ç¨26,54","CG5502":"‚Ç¨26,54","CG5503":"‚Ç¨26,54","CG5512":"‚Ç¨26,54","CG5514":"‚Ç¨26,54","CG5515":"‚Ç¨26,54","CG5516":"‚Ç¨26,54","CG5517":"‚Ç¨26,54","CG5523":"‚Ç¨44,43","CG5524":"‚Ç¨44,43","CG5525":"‚Ç¨44,43","CG5526":"‚Ç¨44,43","CG5527":"‚Ç¨44,43","CG5528":"‚Ç¨44,43","CG5529":"‚Ç¨29,62","CG5530":"‚Ç¨29,62","CG5531":"‚Ç¨29,62","DG3502":"‚Ç¨29,62","DG3503":"‚Ç¨29,62","DG3504":"‚Ç¨29,62","DG3507":"‚Ç¨44,43","HG5101":"‚Ç¨29,62","HG5103":"‚Ç¨29,62","HG5104":"‚Ç¨29,62","HG5105":"‚Ç¨29,62","HG5111":"‚Ç¨26,54","HG5117":"‚Ç¨29,62","HG5118":"‚Ç¨29,62","HG5119":"‚Ç¨29,62","HG5120":"‚Ç¨29,62","HG5121":"‚Ç¨29,62","HG5122":"‚Ç¨29,62","HG5123":"‚Ç¨29,62","JG698":"‚Ç¨29,62","JG9000":"‚Ç¨29,62","JG9001":"‚Ç¨29,62","MG125":"‚Ç¨29,62","MG3021":"‚Ç¨29,62","MG3060":"‚Ç¨44,43","MG3083":"‚Ç¨29,62","MG452":"‚Ç¨44,43","MG453":"‚Ç¨44,43","MG454":"‚Ç¨44,43","MG460":"‚Ç¨44,43","MG462":"‚Ç¨29,62","MG498":"‚Ç¨29,62","MG499":"‚Ç¨29,62","MG986":"‚Ç¨29,62","NG2034":"‚Ç¨20,98","NG2035":"‚Ç¨20,98","NG2036":"‚Ç¨20,98","NG2039":"‚Ç¨20,98","NG2048":"‚Ç¨20,98","SG1128":"‚Ç¨20,98","SG114":"‚Ç¨20,98","SG1182":"‚Ç¨20,98","SG1186":"‚Ç¨20,98","SG1198":"‚Ç¨20,98","SG1201":"‚Ç¨20,98","SG51":"‚Ç¨20,98","SG87":"‚Ç¨20,98","SG97":"‚Ç¨20,98","TG4000":"‚Ç¨44,43","TG4004":"‚Ç¨44,43","TG4006":"‚Ç¨29,62","TG4018":"‚Ç¨23,45","TG4019":"‚Ç¨23,45","TG4020":"‚Ç¨23,45","TG4021":"‚Ç¨23,45","TG4022":"‚Ç¨23,45","TG4023":"‚Ç¨23,45","TG4024":"‚Ç¨23,45","TG4025":"‚Ç¨23,45","TG4026":"‚Ç¨23,45","TG4027":"‚Ç¨23,45","TG4028a":"‚Ç¨23,45","TG4028b":"‚Ç¨23,45","TG465":"‚Ç¨44,43","XG7011":"‚Ç¨29,62","XG7014":"‚Ç¨29,62","XG7015":"‚Ç¨29,62","XG7017":"‚Ç¨29,62","XG7018":"‚Ç¨29,62","XG7019":"‚Ç¨29,62","YG4501":"‚Ç¨29,62","YG4502":"‚Ç¨29,62","YG4503":"‚Ç¨29,62","ZG5037":"‚Ç¨23,45"};

        function switchColorBrand(brand) {
            currentColorBrand = brand;
            document.getElementById('color-tab-bodaq').classList.toggle('active', brand === 'bodaq');
            document.getElementById('color-tab-coverstyl').classList.toggle('active', brand === 'coverstyl');
            document.getElementById('color-tab-soif').classList.toggle('active', brand === 'soif');
            document.getElementById('bodaqColorList').style.display = brand === 'bodaq' ? 'block' : 'none';
            document.getElementById('coverstylColorList').style.display = brand === 'coverstyl' ? 'block' : 'none';
            document.getElementById('soifColorList').style.display = brand === 'soif' ? 'block' : 'none';
        }

        function loadColorList() {
            // Bodaq
            const customPrices = JSON.parse(localStorage.getItem('customProductPrices') || '{}');
            let html = '';
            BODAQ_PRODUCTS.forEach(product => {
                const isDisabled = disabledColors.bodaq.includes(product.code);
                const defaultPrijs = BODAQ_INKOOP[product.code] || '';
                const customPrijs = customPrices[product.code] || '';
                const displayPrijs = customPrijs || (defaultPrijs ? defaultPrijs.replace('‚Ç¨','').replace(',','.').trim() : '');
                html += `
                    <div class="color-item ${isDisabled ? 'color-disabled' : ''}" data-code="${product.code}" data-name="${product.name}">
                        <div class="color-toggle">
                            <input type="checkbox" 
                                   id="bodaq-${product.code}" 
                                   ${!isDisabled ? 'checked' : ''}
                                   onchange="toggleColor('bodaq', '${product.code}', this.checked)">
                        </div>
                        <img src="${product.image}" class="color-preview" alt="${product.code}">
                        <div class="color-info">
                            <div class="color-code">${product.code}</div>
                            <div class="color-name">${product.name}</div>
                            <span class="color-category">${product.category}</span>
                            <span class="color-inkoop">‚Ç¨ <input type="number" step="0.01" value="${displayPrijs}" 
                                style="width:60px;border:1px solid #ccc;border-radius:4px;padding:2px 4px;font-size:12px;font-weight:bold;" 
                                onchange="saveProductPrice('${product.code}', this.value)" 
                                onclick="event.stopPropagation()"></span>
                        </div>
                    </div>
                `;
            });
            document.getElementById('bodaqColorList').innerHTML = html;

            // Coverstyl
            html = '';
            COVERSTYL_PRODUCTS.forEach(product => {
                const isDisabled = disabledColors.coverstyl.includes(product.code);
                const defaultPrijs = COVERSTYL_INKOOP[product.code] || '';
                const customPrijs = customPrices[product.code] || '';
                const displayPrijs = customPrijs || (defaultPrijs ? defaultPrijs.replace('‚Ç¨','').replace(',','.').trim() : '');
                html += `
                    <div class="color-item ${isDisabled ? 'color-disabled' : ''}" data-code="${product.code}" data-name="${product.name}">
                        <div class="color-toggle">
                            <input type="checkbox" 
                                   id="coverstyl-${product.code}" 
                                   ${!isDisabled ? 'checked' : ''}
                                   onchange="toggleColor('coverstyl', '${product.code}', this.checked)">
                        </div>
                        <img src="${product.image}" class="color-preview" alt="${product.code}">
                        <div class="color-info">
                            <div class="color-code">${product.code}</div>
                            <div class="color-name">${product.name}</div>
                            <span class="color-category">${product.category}</span>
                            <span class="color-inkoop">‚Ç¨ <input type="number" step="0.01" value="${displayPrijs}" 
                                style="width:60px;border:1px solid #ccc;border-radius:4px;padding:2px 4px;font-size:12px;font-weight:bold;" 
                                onchange="saveProductPrice('${product.code}', this.value)" 
                                onclick="event.stopPropagation()"></span>
                        </div>
                    </div>
                `;
            });
            document.getElementById('coverstylColorList').innerHTML = html;

            // SOIF
            html = '';
            SOIF_PRODUCTS.forEach(product => {
                const isDisabled = (disabledColors.soif || []).includes(product.code);
                const defaultPrijs = SOIF_INKOOP[product.code] || '';
                const customPrijs = customPrices[product.code] || '';
                const displayPrijs = customPrijs || (defaultPrijs ? defaultPrijs.replace('‚Ç¨','').replace(',','.').trim() : '');
                html += `
                    <div class="color-item ${isDisabled ? 'color-disabled' : ''}" data-code="${product.code}" data-name="${product.name}">
                        <div class="color-toggle">
                            <input type="checkbox" 
                                   id="soif-${product.code}" 
                                   ${!isDisabled ? 'checked' : ''}
                                   onchange="toggleColor('soif', '${product.code}', this.checked)">
                        </div>
                        <img src="${product.image}" class="color-preview" alt="${product.code}">
                        <div class="color-info">
                            <div class="color-code">${product.code}</div>
                            <div class="color-name">${product.name}</div>
                            <span class="color-category">${product.category}</span>
                            <span class="color-inkoop">‚Ç¨ <input type="number" step="0.01" value="${displayPrijs}" 
                                style="width:60px;border:1px solid #ccc;border-radius:4px;padding:2px 4px;font-size:12px;font-weight:bold;" 
                                onchange="saveProductPrice('${product.code}', this.value)" 
                                onclick="event.stopPropagation()"></span>
                        </div>
                    </div>
                `;
            });
            document.getElementById('soifColorList').innerHTML = html;
        }

        function saveProductPrice(code, value) {
            const customPrices = JSON.parse(localStorage.getItem('customProductPrices') || '{}');
            if (value && !isNaN(parseFloat(value))) {
                customPrices[code] = parseFloat(value).toFixed(2);
            } else {
                delete customPrices[code];
            }
            localStorage.setItem('customProductPrices', JSON.stringify(customPrices));
        }

        function toggleColor(brand, code, enabled) {
            if (enabled) {
                // Enable color
                disabledColors[brand] = disabledColors[brand].filter(c => c !== code);
            } else {
                // Disable color
                if (!disabledColors[brand].includes(code)) {
                    disabledColors[brand].push(code);
                }
            }
            // Update visual
            const item = document.querySelector(`#${brand}ColorList .color-item[data-code="${code}"]`);
            if (item) {
                item.classList.toggle('color-disabled', !enabled);
            }
        }

        function filterColorList() {
            const search = document.getElementById('colorSearch').value.toLowerCase();
            const list = currentColorBrand === 'bodaq' ? 'bodaqColorList' : (currentColorBrand === 'soif' ? 'soifColorList' : 'coverstylColorList');
            const items = document.querySelectorAll(`#${list} .color-item`);
            
            items.forEach(item => {
                const code = item.dataset.code.toLowerCase();
                const name = item.dataset.name.toLowerCase();
                const visible = code.includes(search) || name.includes(search);
                item.style.display = visible ? 'flex' : 'none';
            });
        }

        function saveColorSettings() {
            localStorage.setItem('disabledColors', JSON.stringify(disabledColors));
            
            const bodaqDisabled = disabledColors.bodaq.length;
            const coverstylDisabled = disabledColors.coverstyl.length;
            const soifDisabled = (disabledColors.soif || []).length;
            
            alert(`‚úÖ Kleuren instellingen opgeslagen!\n\nBodaq: ${bodaqDisabled} kleuren uitgeschakeld\nCoverstyl: ${coverstylDisabled} kleuren uitgeschakeld\nSOIF: ${soifDisabled} kleuren uitgeschakeld\n\nDeze kleuren worden verborgen in de calculator.`);
        }

        // Load color list when tab is opened
        document.addEventListener('DOMContentLoaded', function() {
            loadColorList();
        });

    </script>
</body>
</html>
